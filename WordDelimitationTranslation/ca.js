!function(e){function t(t){for(var n,r,s=t[0],a=t[1],c=t[2],l=0,F=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&F.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(d&&d(t);F.length;)F.shift()();return i.push.apply(i,c||[]),u()}function u(){for(var e,t=0;t<i.length;t++){for(var u=i[t],n=!0,s=1;s<u.length;s++){var a=u[s];0!==o[a]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=u[0]))}return e}var n={},o={12:0},i=[];function r(t){if(n[t])return n[t].exports;var u=n[t]={i:t,l:!1,exports:{}};return e[t].call(u.exports,u,u.exports,r),u.l=!0,u.exports}r.m=e,r.c=n,r.d=function(e,t,u){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:u})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(u,n,function(t){return e[t]}.bind(null,n));return u},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window.webpackJsonp=window.webpackJsonp||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=a;i.push([646,0]),u()}({120:function(e,t,u){"use strict";u.d(t,"b",(function(){return i})),u.d(t,"a",(function(){return r}));var n=u(249);const o=document.caretPositionFromPoint?function(e,t){const u=document.caretPositionFromPoint(e,t);return u&&{offsetNode:u.offsetNode,offset:u.offset}}:document.caretRangeFromPoint?function(e,t){const u=document.caretRangeFromPoint(e,t);return u&&{offsetNode:u.startContainer,offset:u.startOffset}}:void 0;const i=!o;class r{constructor(e,t=1e3,u,i=document.body){this.destroyed=!1,this.context=i,this.onMouseMove=Object(n.a)((t=>{u&&!t[u]||(!function(e,t){if(!o)return null;const u=window.getSelection();if(!u)return null;const n=o(e,t);if(!n)return null;const{offset:i,offsetNode:r}=n;if(r.nodeType!==Node.TEXT_NODE)return null;const s=u.rangeCount>0?u.getRangeAt(0):void 0;u.removeAllRanges();const a=document.createRange();a.setStart(r,i),a.setEnd(r,i),u.addRange(a),u.modify("move","backward","word"),u.modify("extend","forward","word");const c=u.getRangeAt(0).getBoundingClientRect();(c.left>e||c.left+c.width<e||c.top>t||c.top+c.height<t)&&(u.removeAllRanges(),s&&u.addRange(s))}(t.clientX,t.clientY),e(t))}),t),i.addEventListener("pointermove",this.onMouseMove)}destroy(){this.destroyed=!0,this.context.removeEventListener("pointermove",this.onMouseMove)}}},141:function(e,t,u){"use strict";u.d(t,"a",(function(){return _}));var n=u(90),o=u(21);const i=/[\x00\x01\x02\x03\x04\x05\x06\x07\b\t\v\f\x0E\x0F\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1A\x1B\x1C\x1D\x1E\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g;function r(e){return"INPUT"===e.nodeName}function s(e){return"TEXTAREA"===e.nodeName}let a;const c=/\n/g;function d(e){a||(a=document.createElement("div"),a.style.pointerEvents="none",a.style.visibility="hidden",a.style.position="absolute",document.documentElement.appendChild(a));const t=e.getBoundingClientRect(),u=e.value;a.style.top=t.top+window.pageYOffset-e.scrollTop+"px",a.style.left=t.left+window.pageXOffset+"px",a.style.width=t.width+"px";const n=window.getComputedStyle(e);var o;a.style.boxSizing=n.boxSizing,a.style.padding=n.padding,a.style.border=`${n.borderWidth} solid black`,a.style.lineHeight=n.lineHeight,a.style.fontSize=n.fontSize,a.style.fontFamily=n.fontFamily,a.innerHTML=(o=u,o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")).replace(c,"<br>");const i=u.matchAll(c),r=[];let s,d,l,F,f=0;for(const e of i)f!==e.index&&r.push(u.slice(f,e.index)),r.push("\n"),f=e.index+1;f!==u.length&&r.push(u.slice(f));let E=0;const A=e.selectionStart||0,p=e.selectionEnd||0;r.some(((e,t)=>{const u=E+e.length;if(s||u>A&&(s=a.childNodes[t],d=A-E),s&&u>=p)return l=a.childNodes[t],F=p-E,!0;E=u}));const C=document.createRange();return C.setStart(s,d),C.setEnd(l,F),C}var l=u(640);function F(e){const t=window.getSelection();if(!t)return;const u=function(e=window.getSelection()){let t;if(t=null==e?void 0:e.toString(),!t){const e=document.activeElement;if(e&&(s(e)||r(e))){const{selectionStart:u,selectionEnd:n}=e;null!=u&&null!=n&&(u||n)&&(t=e.value.slice(u,n))}}return t?t.trim().replace(i,""):""}(t);if(!u)return;let a=!1,c=t.rangeCount>0?t.getRangeAt(0):void 0;if(!c||c.collapsed){const t=document.activeElement;t&&(r(t)||s(t))?(c=d(t),a=!0):e&&e.composed&&(e.path||e.composedPath()).some((e=>{if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return c=function(e){const t=e.getSelection();if(!t||!t.rangeCount)return;const u=t.getRangeAt(0);return u.collapsed?void 0:u}(e),!0}))||(c=void 0)}const l=!c&&e?{x:e.clientX,y:e.clientY,initScrollTop:window.pageYOffset,initScrollLeft:window.pageXOffset}:void 0,F=c||{getBoundingClientRect(){if(l){const e=l.y-(window.pageYOffset-l.initScrollTop),t=l.x-(window.pageXOffset-l.initScrollLeft);return{height:0,width:0,top:e,bottom:e,left:t,right:t}}return{top:100,left:100,width:10,height:10,right:110,bottom:110}}};return{text:u,isTop:o.a,event:e&&Object(n.a)(e,["altKey","metaKey","shiftKey","ctrlKey","clientX","clientY","target"]),isInTextarea:a,rect:o.a?function(){return F.getBoundingClientRect()}:F.getBoundingClientRect()}}function f(){return{frameIndex:o.a?-1:Array.prototype.indexOf.call(window.parent.frames,window),href:window.location.href,scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset}}function E(e,t){return{type:"HCFY_SELECTION_EVENT_BUBBLE_SELECTION_INFO",data:{selection:F(t),path:[f()]},meta:e}}const A=document.createElement("style");function p(e){e.target.closest("a")&&(e.preventDefault(),e.stopImmediatePropagation())}A.textContent="a{text-decoration:none !important;cursor:text !important}";var C=u(120),m=u(37),B=u(99),D=u(3),g=u(31),h=u.n(g),y=u(39);const w=h()(o.a?"top frame detector worker":"detector worker"),v=Object(n.a)(D.a,["modifierKeys"]);class _{constructor(e){this.postMsgToTopmostFrame=e?t=>{e(t)}:e=>{window.top.postMessage(Object(y.b)(e),"*")},window.addEventListener("keyup",(e=>{27===e.keyCode&&this.postMsgToTopmostFrame({type:"HCFY_SELECTION_EVENT_ESC_KEY"})})),document.addEventListener("pointerdown",(e=>{o.a&&"__hcfy__"===e.target.id||this.postMsgToTopmostFrame({type:"HCFY_SELECTION_EVENT_MOUSEDOWN",event:Object(n.a)(e,["target.id"])})}),!0),window.addEventListener("scroll",(e=>{this.postMsgToTopmostFrame({type:"HCFY_SELECTION_EVENT_SCROLL",event:o.a?e:void 0})}),!0),document.addEventListener("pointerup",(e=>{o.a&&"__hcfy__"===e.target.id||window.setTimeout((()=>{const t=E({reason:"mouseup"},e);this.bubbleInfoMsg(t)}))})),Object(m.a)(v,(({modifierKeys:e})=>{this.removeModifierKeys&&this.removeModifierKeys(),e&&e.length&&(this.removeModifierKeys=Object(B.a)(e,(()=>{this.postMsgToTopmostFrame({type:"HCFY_SELECTION_EVENT_ON_MODIFIER_KEYS_ACTIVE"})}),(()=>{this.postMsgToTopmostFrame({type:"HCFY_SELECTION_EVENT_ON_MODIFIER_KEYS_RELEASED"})}),(()=>{this.postMsgToTopmostFrame({type:"HCFY_SELECTION_EVENT_ON_MODIFIER_KEYS_INTERRUPTED"})})))})),window.addEventListener("message",(({data:e})=>{const t=Object(y.a)(e);if(t)if("HCFY_SELECTION_EVENT_BUBBLE_SELECTION_INFO"===t.type){w("接收到子 worker 上报的划词信息",t);const e=function(e){const t=e.data,u=Object(l.a)(t.path);if(!u)return;const n=document.querySelectorAll("iframe,frame");let o;const i=window.frames[u.frameIndex];if(i?Array.prototype.some.call(n,(e=>{if(e.contentWindow===i)return o=e,!0})):console.error("【划词翻译】window.frames[childFrameInfo.frameIndex] 为空"),!o)return void console.error("【划词翻译】找不到对应的 iframe 元素。",u);u.rect=o.getBoundingClientRect();const r=window.getComputedStyle(o);return u.computedStyles={paddingLeft:Number(r.paddingLeft.slice(0,-2)),paddingTop:Number(r.paddingTop.slice(0,-2)),borderLeftWidth:Number(r.borderLeftWidth.slice(0,-2)),borderTopWidth:Number(r.borderTopWidth.slice(0,-2))},t.path.push(f()),e}(t);e&&this.bubbleInfoMsg(e)}else o.a||this.sendMsg(t)}))}sendMsg(e){var t;switch(w(o.a?"接收到来自顶层窗口直接发送的消息":"接收到来自 message 事件的消息",e),e.type){case"HCFY_SELECTION_EVENT_REPORT_INFO_PROACTIVE":const u=E({reason:"proactive",mid:e.mid});return o.a||this.bubbleInfoMsg(u),u;case"HCFY_SELECTION_EVENT_DISABLE_LINK":return document.head.appendChild(A),void window.addEventListener("click",p,!0);case"HCFY_SELECTION_EVENT_ENABLE_LINK":return document.head.contains(A)&&document.head.removeChild(A),void window.removeEventListener("click",p,!0);case"HCFY_SELECTION_EVENT_ENABLE_HOVER_TRANSLATE":return void(this.hs=new C.a((()=>{this.bubbleInfoMsg(E({reason:"hover"}))}),500));case"HCFY_SELECTION_EVENT_DISABLE_HOVER_TRANSLATE":return null===(t=this.hs)||void 0===t||t.destroy(),void delete this.hs}}bubbleInfoMsg(e){if(o.a){const t={type:"HCFY_SELECTION_EVENT_RECEIVE_SELECTION_INFO",data:e.data,meta:e.meta};this.postMsgToTopmostFrame(t)}else window.parent.postMessage(Object(y.b)(e),"*")}}},21:function(e,t,u){"use strict";u.d(t,"a",(function(){return n}));const n=window.top===window},249:function(e,t,u){"use strict";var n=u(29),o=u(28),i=function(){return o.a.Date.now()},r=u(84),s=Math.max,a=Math.min;t.a=function(e,t,u){var o,c,d,l,F,f,E=0,A=!1,p=!1,C=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var u=o,n=c;return o=c=void 0,E=t,l=e.apply(n,u)}function B(e){return E=e,F=setTimeout(g,t),A?m(e):l}function D(e){var u=e-f;return void 0===f||u>=t||u<0||p&&e-E>=d}function g(){var e=i();if(D(e))return h(e);F=setTimeout(g,function(e){var u=t-(e-f);return p?a(u,d-(e-E)):u}(e))}function h(e){return F=void 0,C&&o?m(e):(o=c=void 0,l)}function y(){var e=i(),u=D(e);if(o=arguments,c=this,f=e,u){if(void 0===F)return B(f);if(p)return clearTimeout(F),F=setTimeout(g,t),m(f)}return void 0===F&&(F=setTimeout(g,t)),l}return t=Object(r.a)(t)||0,Object(n.a)(u)&&(A=!!u.leading,d=(p="maxWait"in u)?s(Object(r.a)(u.maxWait)||0,t):d,C="trailing"in u?!!u.trailing:C),y.cancel=function(){void 0!==F&&clearTimeout(F),E=0,o=f=c=F=void 0},y.flush=function(){return void 0===F?l:h(i())},y}},26:function(e,t,u){"use strict";u.d(t,"c",(function(){return o})),u.d(t,"b",(function(){return i})),u.d(t,"a",(function(){return r})),u.d(t,"d",(function(){return c})),u.d(t,"e",(function(){return d}));const n=window.navigator.userAgent,o=n.includes("Mac"),i=n.includes("Edg"),r=!i&&n.includes("Chrome");function s(e){return e.split(".").map((e=>Number(e)))}const a=s(browser.runtime.getManifest().version);function c(e,t){const u="string"==typeof e?s(e):e,n="string"==typeof t?s(t):t,o=Math.max(u.length,n.length);for(let e=0;e<o;e++){const t=u[e]||0,o=n[e]||0;if(t<o)return-1;if(t>o)return 1}return 0}function d(e){return c(e,a)}},3:function(e,t,u){"use strict";u.d(t,"a",(function(){return n})),u.d(t,"b",(function(){return o}));const n={button:!0,buttonAutoClose:!1,disableInTextarea:!1,domainBlackList:[],domainWhiteList:[],textList:[{name:"忽略中文",readonly:!0,enabled:!1,value:"[\\u4e00-\\u9fa5]",description:"如果划选的文本当中包含中文，则不显示翻译按钮或翻译结果。"},{name:"忽略字符",readonly:!0,enabled:!0,value:"^[\\s.\\-0-9()•+]+$",description:"如果划选的文本全部都是由数字、点、括号、空格、横线、加号和圆点（即 •，多用于密码框）组成的，则不显示翻译按钮或翻译结果。"}],placement:"bottom",pin:!1,pinPos:null,pinIgnoreDomainList:!0,darkMode:"system",pdfAuto:!0,width:250,destination:"中文(简体)",secondDestination:"英语",showTextArea:!1,textAreaAuto:!1,selectedAPIs:["GoogleWeb","DeepLWeb","BingDictWeb"],collapsedAPIs:[],selectedExternalLinks:[],autoClipboard:!0,autoPlay:!1,autoCopy:!1,recentUseLangFrom:[""],recentUseLangTo:["中文(简体)"],tipPanelSettingsClosed:!1,tipBlockedPDFClosed:!1,tipIncognitoPDFClosed:!1,tipOcrChangeClosed:!0,tipForeverVIPClosed:!0,tipQuickLinksClosed:!1,tipNewProfessionalClosed:!1,tipTextareaBtnClosed:!0,tipForSTTClosed:!1,panelPos:{width:270,height:500,left:100,top:100},panelSize:"small",panelCustomStyle:"",notifySyncOptions:!0,sourceTransformNoBr:!1,sourceTransformNCaml:!1,sourceTransformNoComment:!1,historyEnabled:!1,favoritesEnabled:!0,modifierKeys:[],modifierKeyPressedAction:"",modifierKeyTranslate:!1,modifierKeyLink:!1,audioVolume:100,audioRate:1,systemTTS:"aid",systemTTSAccent:{},systemTTSVoice:{},localOCR:{lang:"eng"},pageTrsApi:"GoogleWeb",googleRegion:"cn",quickLinks:[{name:"谷歌搜索",link:"https://www.google.com/search?q=%s",menu:!1,panel:!0},{name:"维基百科",link:"https://zh.wikipedia.org/w/index.php?search=%s",menu:!1,panel:!0},{name:"剑桥词典",link:"https://dictionary.cambridge.org/dictionary/english-chinese-simplified/%s",menu:!1,panel:!0}],noticesRead:[],customAPI:"",customAPINames:[],pointsEnabled:[],baiduDomain:null,aliDomain:null,ocrService:"tesseractocr"},o={user:null,optionsSyncAt:null,disabledNofiByBrowserUI:!1,favoritesSyncAt:null,historiesSyncAt:null,baiDuAppKey:{id:"",key:""},baiDuOCRKey:{key:"",secret:"",legacy:!1},youDaoAppKey:{id:"",key:""},aLiApiKey:{id:"",key:""},qqApiKey:{id:"",key:""},soGouApiKey:{id:"",key:""},cyApiToken:"",ocrLimit:{date:0,times:0},pageTranslateLimit:{date:0,times:0},sttLimit:{date:0,times:0},videoLimit:{date:0,times:0},pdfZoom:"",noticesUnreadNum:0,noticesFiltered:[]}},37:function(e,t,u){"use strict";u.d(t,"a",(function(){return i}));var n=u(183);const o=[];function i(e,t,u,n="local"){return browser.storage[n].get(e).then((e=>{(u||t)(e,!0)})).then((()=>{const u=Object.keys(e);o.push({defaultOptions:e,onChange:t,area:n,keys:u})})),()=>{const u=o.findIndex((u=>u.onChange===t&&u.area===n&&u.defaultOptions===e));return u>=0&&(o.splice(u,1),!0)}}browser.storage.onChanged.addListener(((e,t)=>{o.forEach((u=>{if(u.area!==t)return;const o=function(e,t){const u={};for(const n in e)e.hasOwnProperty(n)&&t.includes(n)&&(u[n]=e[n].newValue);return u}(e,u.keys);Object(n.a)(o)||u.onChange(o)}))}))},39:function(e,t,u){"use strict";u.d(t,"b",(function(){return i})),u.d(t,"a",(function(){return r}));const n="greetings from hcfy:",o=n.length;function i(e){return n+JSON.stringify(e)}function r(e){try{if(e.startsWith(n))return JSON.parse(e.slice(o))}catch(e){}return null}},640:function(e,t,u){"use strict";t.a=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},646:function(e,t,u){e.exports=u(660)},660:function(e,t,u){"use strict";u.r(t);var n=u(141),o=u(31),i=u.n(o),r=u(39),s=u(70);function a(e,t,u=document){return Object(s.b)((()=>{const n=u.querySelector(e);if(!n)throw new Error(t||"找不到元素："+e);return n}))}async function c(e,t){(await a(`[dl-test="translator-${e}-lang-btn"]`,`找不到切换 ${e} 语种的按钮。`)).click();const u=await a(`[dl-test="translator-${e}-lang-list"]`,`找不到${e}的语种下拉框。`);(await a(`[dl-test="translator-lang-option-${t}"]`,`在${e}语种选择下拉框中找不到语种${t}的选项。`,u)).click()}async function d(e,t,u="auto"){var n;await async function(){(await a('[dl-test="translator-source-clear-button"]',"找不到清空文本的按钮。")).click()}(),await(n=u,c("source",n)),await function(e){return c("target","en"===e?"en-US":`${e}-${e.toUpperCase()}`)}(t),await async function(e){const t=await a('[dl-test="translator-source-input"]',"找不到文本输入框。");t.value=e,t.dispatchEvent(new Event("input"))}(e)}const l=i()("deepLInFrame");var F=u(21);!function(){if("https://www.deepl.com/translator"!==window.location.href||window.top===window)return;let e;window.addEventListener("message",(async t=>{const u=Object(r.a)(t.data);if(u&&"HCFY_DEEPL_TEANSLATE_MESSAGE"===(null==(n=u)?void 0:n.type)){var n;if(l("收到背景页传过来的翻译消息：",u),e){const t={type:"HCFY_DEEPL_CANCEL",id:e};l("有一个正在执行当中的翻译请求，发送取消掉的消息体：",t),window.top.postMessage(Object(r.b)(t),"*")}e=u.id;try{await d(u.text,u.to,u.from)}catch(t){const u={type:"HCFY_DEEPL_ERROR",id:e,message:t.message};l("翻译时报错了：",u),window.top.postMessage(Object(r.b)(u),"*")}}})),function(e){const t=new MutationObserver((t=>{t.some((t=>{if(t.addedNodes.length){let u=!1,n="";const o=[];t.addedNodes.forEach((e=>{var t,i;const r=e;if(r.classList.contains("lmt__translations_as_text__main_translation")){const e=null===(t=r.getElementsByClassName("lmt__translations_as_text__text_btn")[0].textContent)||void 0===t?void 0:t.trim();e&&(u=!0,n=e)}else if(u&&r.classList.contains("lmt__translations_as_text__item")){const e=null===(i=r.getElementsByClassName("lmt__translations_as_text__text_btn")[0].textContent)||void 0===i?void 0:i.trim();e&&o.push(e)}})),u&&e({hash:window.location.hash,result:n,otherResults:o})}}))}));t.observe(document.getElementsByClassName("lmt__translations_as_text")[0],{childList:!0})}((t=>{const u={type:"HCFY_DEEPL_RETURN_RESULT",id:e,...t};e=void 0,l("监测到翻译结果区域变化，传给背景页当前结果的消息体：",u),window.top.postMessage(Object(r.b)(u),"*")}))}(),F.a||new n.a},70:function(e,t,u){"use strict";u.d(t,"a",(function(){return o})),u.d(t,"b",(function(){return i}));const n={delay:0,count:3,beforeRetry:()=>!1};function o(e,t){const u=t?Object.assign({},n,t):n;let o=0;const i=()=>e().catch((e=>o<u.count&&(o+=1,!u.beforeRetry(e))?new Promise(((e,t)=>{window.setTimeout((()=>{i().then(e,t)}),u.delay)})):Promise.reject(e)));return i()}function i(e,t){return o((()=>new Promise(((t,u)=>{try{t(e())}catch(e){u(e)}}))),t)}},99:function(e,t,u){"use strict";u.d(t,"c",(function(){return r})),u.d(t,"b",(function(){return a})),u.d(t,"a",(function(){return c}));var n=u(26),o=u(31);const i=u.n(o)()("hotkeys"),r={ctrl:n.c?"metaKey":"ctrlKey",alt:"altKey",shift:"shiftKey"},s={ctrl:n.c?[91,93]:[17],alt:[18],shift:[16]};function a(e,t){return!(!t||!t.length)&&t.every((t=>e[r[t]]))}function c(e,t,u,n){const o=new Set;let r=!1;function a(){o.clear(),r?(r=!1,i("辅助键处于激活状态，执行中断回调"),n()):i("辅助键未处于激活状态")}function c(){i("页面失去了焦点，执行中断操作"),a()}function d(u){const n=u.keyCode,c=o.size;if(!e.some((e=>{if(s[e].includes(n))return o.add(e),!0})))return i("按下了不是辅助键的其它键，执行中断操作"),void a();c!==o.size&&(i("按下了新的辅助键，当前已经按下的辅助键：",[...o]),o.size===e.length&&(i("全部辅助键已按下，将辅助键改为激活状态，并执行辅助键按下回调"),r=!0,t()))}function l(t){const n=t.keyCode,a=o.size;if(!a)return;e.some((e=>{if(s[e].includes(n))return o.delete(e),!0}))&&a!==o.size&&(i("松开了新的辅助键，当前已经按下的辅助键：",[...o]),r=!1,e.length-o.size==1&&(i("一个辅助键已松开，执行辅助键松开回调"),u()))}return window.addEventListener("keydown",d),window.addEventListener("blur",c),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",d),window.removeEventListener("blur",c),window.removeEventListener("keyup",l)}}}});