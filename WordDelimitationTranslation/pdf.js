!function(e){function t(t){for(var o,i,a=t[0],s=t[1],l=t[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(u&&u(t);f.length;)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(o=!1)}o&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={14:0},c=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=s;c.push([656,0,2,4,9,1,3,5,7]),n()}({108:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var o=n(57);async function r(e){var t;try{let t;if(t=void 0===e?(await browser.tabs.executeScript({code:"window.location.href",runAt:"document_start"}))[0]:(await browser.tabs.executeScript(e,{code:"window.location.href",runAt:"document_start"}))[0],t.startsWith("moz-extension"))throw new Error;return t}catch(n){if(void 0===e&&!(e=null===(t=await Object(o.a)())||void 0===t?void 0:t.id))return;try{return await browser.tabs.sendMessage(e,"get tab url")}catch(e){}}}function c(){const e=e=>{if("get tab url"===e)return Promise.resolve(window.location.href)};return browser.runtime.onMessage.addListener(e),()=>{browser.runtime.onMessage.removeListener(e)}}},413:function(e,t,n){var o=n(657);e.exports="string"==typeof o?o:o.toString()},57:function(e,t,n){"use strict";async function o(){return(await browser.tabs.query({active:!0,highlighted:!0,windowId:browser.windows.WINDOW_ID_CURRENT}))[0]}n.d(t,"a",(function(){return o}))},656:function(e,t,n){e.exports=n(661)},657:function(e,t,n){var o=n(287)(!1);o.push([e.i,".blocked-tip{top:20px}\n",""]),e.exports=o},661:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(24),i=n.n(c),a=n(108),s=n(79),l=n(413),u=n.n(l),d=n(59),f=n(90),p=n(3),m=n(10),b=n(73);var w=n(238);const h=window.location.search.includes("_blocked"),g=window.location.search.includes("_incognito"),v=Object(f.a)(p.a,"tipBlockedPDFClosed","tipIncognitoPDFClosed","tipNewProfessionalClosed"),y=document.createElement("link");y.rel="stylesheet",y.href="viewer-dark.css";var x=n(241),O=n(21),j=n(141),P=n(117),C=n(49);if(O.a){const e=document.createElement("div");e.style.all="initial",document.documentElement.appendChild(e),i.a.render(r.a.createElement(x.a,null),e),Object(a.b)(),browser.runtime.sendMessage({action:"update badge"})}else new j.a;const E=document.createElement("div");E.style.all="initial",document.documentElement.appendChild(E),i.a.render(r.a.createElement((function(){const[e,t]=Object(o.useState)(null),[n,c]=Object(m.a)(v),i=null==n?void 0:n.tipBlockedPDFClosed,a=!n||n.tipNewProfessionalClosed,s=!n||n.tipIncognitoPDFClosed;return Object(b.a)((e=>{const t=document.head.contains(y);e?t||document.head.appendChild(y):t&&document.head.removeChild(y)})),function(e,t,n){const r=Object(o.useRef)();Object(o.useEffect)((()=>{if(t&&e)return r.current=e.show({timeout:0,action:{text:"不再提示",onClick:()=>{n()}},className:"blocked-tip",intent:"primary",message:"划词翻译现已支持百度翻译（专业版）和阿里翻译（专业版），覆盖电子科技、水利机械、电商、医药、金融等多个领域。"},r.current),()=>{r.current&&e.dismiss(r.current)}}),[n,t,e])}(e,!a,Object(o.useCallback)((()=>{c({tipNewProfessionalClosed:!0})}),[c])),Object(o.useEffect)((()=>{h&&!1===i&&e&&e.show({timeout:0,action:{text:"不再提示",onClick:()=>{c({tipBlockedPDFClosed:!0})}},className:"blocked-tip",intent:"warning",message:"由于浏览器自身的安全限制，划词翻译无法通过右键菜单打开电脑里的 PDF 文件，请将文件拖放到此页面打开。"})}),[e,i,c]),Object(o.useEffect)((()=>{g&&!1===s&&e&&e.show({timeout:0,action:{text:"不再提示",onClick:()=>{c({tipIncognitoPDFClosed:!0})}},className:"blocked-tip",intent:"warning",message:"由于浏览器自身的安全限制，内置 PDF 阅读器无法在无痕模式下使用，已自动为你转到普通模式窗口里打开。"})}),[e,c,s]),r.a.createElement(w.a,{cssText:u.a},r.a.createElement(d.T,{ref:t,usePortal:!1}))}),null),E),document.addEventListener("webviewerloaded",(function(){const e=window.PDFViewerApplication;e.initializedPromise.then((function(){const t=document.createElement("button");t.textContent="复制 PDF 网址",t.style.margin="3px 2px 4px 0",t.style.cursor="pointer",t.addEventListener("click",(()=>{Object(s.b)(e.url)}));const n=document.getElementById("toolbarViewerRight");null==n||n.insertAdjacentElement("afterbegin",t);const o=document.createElement("span");o.textContent="提示：可以将 PDF 文件拖放到此页面打开",o.style.fontSize="12px",o.style.color="#fff",o.style.margin="8px 8px 0 0",null==n||n.insertAdjacentElement("afterbegin",o),browser.storage.local.get("pdfZoom").then((({pdfZoom:e})=>{if(e){const t=location.hash,n=Object(P.a)(t,"#"===t[0]),o=Number(e);n.zoom=isNaN(o)?e:String(100*o),location.hash="#"+Object(C.a)(n)}})),e.eventBus.on("scalechanged",(function(e){browser.storage.local.set({pdfZoom:e.value})})),e.eventBus.on("zoomin",(function(e){browser.storage.local.set({pdfZoom:e.source.pageScaleValue})})),e.eventBus.on("zoomout",(function(e){browser.storage.local.set({pdfZoom:e.source.pageScaleValue})}))}))}))},79:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n(105);let r,c=()=>{c=o.a,r=document.createElement("textarea"),r.style.position="absolute",r.style.top="-99999px",document.body.appendChild(r)};function i(e){return c(),r.value=e,r.select(),document.execCommand("copy")}function a(){return c(),r.value="",r.focus(),!!document.execCommand("paste")&&r.value}}});